<!DOCTYPE html>
<html>
  <script>
    var b = navigator.battery;

    b.addEventListener("chargingchange", function() {
      if (b.charging) {
        alert("Charging!" + "\nLevel: " + b.level * 100 + "%");
        window.location.reload(true);
      } else {
        alert("Unplugged!" + "\nLevel: " + b.level * 100 + "%");
       window.location.reload(true);
      }
    });

    b.addEventListener("levelchange", function() {
      window.location.reload(true);     
      });
    
    if (b.charging) {
      document.write("<h2>Shows charging state, charge level, and charging time for device battery.</h2>" + "Charging! <p>Level: " + b.level * 100 + "%</p>" + "<p>Charging Time: " + b.chargingTime + " seconds until the battery is fully charged.</p>");
    } else {
      document.write("<h2>Shows discharging state, charge level and discharging time for device battery.</h2>" + "Discharging! <p>Level: " + b.level * 100 + "%</p>" + "<p>Discharging Time: " + b.dischargingTime + " seconds until the battery is fully discharged.</p>")
    };
  </script>
  <body>
  </body>
</html>
